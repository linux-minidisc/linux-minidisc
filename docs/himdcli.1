\"                                      Hey, EMACS: -*- nroff -*-
.TH HIMDCLI 1 "April 9, 2012"
.SH NAME
himdcli \- Command line interface for accessing HiMD Walkman
.SH SYNOPSIS
.B himdcli "\<HiMD path\>" "\<command\>"
.SH DESCRIPTION
\fBhimdcli\fP is a command line interface for accessing HiMD Walkman. It
uses the libhimd library to read and write audio tracks from a HiMD filesystem
which can be mounted directly from a physical HiMD Walkman or a previously
created image file of a HiMD. The mount point of the HiMD filesystem must
be provided as an argument to \fBhimdcli\fP together with the command to
be performed.

Currently libhimd and therefore \fBhimdcli\fP implements full read access
for PCM, ATRAC-3+ and MP3 tracks as well as experimental write support
for MP3 tracks (MP3 playback is supported by second and third generation
of HiMD Walkman only). Since non-MP3 tracks are protected by Sony's DRM
software stack OpenMG, reading non-MP3 requires additional secret keys
not provided by the upstream authors. Without these keys, libhimd and
thus \fhimdcli\f supports reading MP3 and tracks recorded with the
MZ-M100/M200 and MZ-RH1 recorders only (these use a simpler encryption
mechanism with a constant encryption key).

In addition to transfer capabilities, \fBhimdcli\fP provides some commands
for debugging purposes. These include \fBstrings\fP to display all strings
found in the track list file (TRKIDX##.HMA), \fBtracks\fP and \fBtracks
verbose\fP to display (detailed technical) track information, \fBdiscid\fP
to display the disc id (comparable to the filesystem ID of FAT formatted
volumes) which is used by the OpenMG encryption, \fBmp3key\fP to display
the MP3 encryption key for a given MP3 track on disc as well as \fBholes\fP
to display the holes in a non-contiguous ATDATA##.HMA file (a container
file where all tracks are stored on a HiMD filesystem).

.SH COMMANDS
himdcli currently accepts the following commands:
.TP
.B help
Show command overview list.
.B strings
Dumps all strings found in the tracklist file.
.TP
.B tracks
Lists all tracks on disc.
.TP
.B tracks verbose
Lists details of all tracks on disc.
.TP
.B discid
Reads the disc id of the inserted medium.
.TP
.B holes
Lists all holes on disc.
.TP
.B mp3key <TRK>
Shows the MP3 encryption key for track #<TRK>.
.TP
.B dumptrack <TRK>
Dumps track #<TRK>.
.TP
.B dumpmp3 <TRK>
Dumps MP3 track #<TRK>.
.TP
.B dumpnonmp3 <TRK>
Dumps non-MP3 track #<TRK>.
.TP
.B writemp3 <FILE>
Writes the MP3 file <FILE> to disc.
.PP
When invoked without any arguments, himdcli outputs a short message with usage information.
.SH SEE ALSO
.BR netmdcli (1)
.br
.SH AUTHOR
The linux-minidisc project - <https://wiki.physik.fu-berlin.de/linux-minidisc>.
.PP
This manual page was written by John Paul Adrian Glaubitz <glaubitz@physik.fu-berlin.de>.
